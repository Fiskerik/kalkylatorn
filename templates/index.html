<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <title>Föräldrapenningkalkylator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Beräkna din föräldrapenning</h1>

        <form method="POST" action="/">
            <label>Vårdnad:</label>
            <div class="button-group">
                <label><input type="radio" name="vardnad" value="gemensam" required {% if vardnad == 'gemensam' %}checked{% endif %}> Gemensam</label>
                <label><input type="radio" name="vardnad" value="ensam" required {% if vardnad == 'ensam' %}checked{% endif %}> Ensam</label>
            </div>

            {% if vardnad %}
            <p class="info-text">
                {% if vardnad == 'gemensam' %}
                    När du och den andra föräldern har gemensam vårdnad får ni <strong>195</strong> dagar var på sjukpenningnivå.
                {% elif vardnad == 'ensam' %}
                    Du som har ensam vårdnad får <strong>390</strong> dagar på sjukpenningnivå.
                {% endif %}
            </p>
            {% endif %}

            <label>Din månadsinkomst före skatt:</label>
            <input type="number" name="inkomst1" placeholder="30 000" value="{{ inkomst1 or '' }}" required>

            {% if vardnad == 'gemensam' %}
            <label>Månadsinkomst för förälder 2:</label>
            <input type="number" name="inkomst2" placeholder="30 000" value="{{ inkomst2 or '' }}">
            {% endif %}

            <button type="submit">Visa resultat</button>
        </form>

        {% if daily_rate_1 %}
        <div class="result-block">
            <h2>Förälder 1</h2>

            <div class="grid-2">
                <div class="info-box">
                    <h3>Daglig ersättning på sjukpenningnivå</h3>
                    <p class="highlight">{{ daily_rate_1 }} kr/dag</p>
                    <div class="progress-container">
                        <span>250 kr</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: {{ (daily_rate_1 / 1250 * 100) | round(0) }}%"></div>
                        </div>
                        <span>1250 kr</span>
                    </div>
                </div>
                <div class="info-box">
                    <h3>Preliminär föräldralön</h3>
                    <p class="highlight">{{ monthly_fp_1 }} kr/månad</p>
                </div>
            </div>

            <h3>Föräldradagar</h3>
            <div class="grid-2">
                <div class="info-box">
                    <h3>Dagar på sjukpenningnivå</h3>
                    <p class="highlight">{{ dagar_sjukpenning }} dagar</p>
                    <ul>
                        <li>Varav dagar som kan delas: <strong>105 dagar</strong></li>
                        <li>Varav reserverade dagar: <strong>90 dagar</strong></li>
                    </ul>
                </div>
                <div class="info-box">
                    <h3>Dagar på lägstanivå</h3>
                    <p class="highlight">{{ dagar_lagstaniva }} dagar</p>
                </div>
            </div>
        </div>
        {% endif %}

        {% if vardnad == 'gemensam' and daily_rate_2 %}
        <hr>
        <div class="result-block">
            <h2>Förälder 2</h2>

            <div class="grid-2">
                <div class="info-box">
                    <h3>Daglig ersättning på sjukpenningnivå</h3>
                    <p class="highlight">{{ daily_rate_2 }} kr/dag</p>
                    <div class="progress-container">
                        <span>250 kr</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: {{ (daily_rate_2 / 1250 * 100) | round(0) }}%"></div>
                        </div>
                        <span>1250 kr</span>
                    </div>
                </div>
                <div class="info-box">
                    <h3>Preliminär föräldralön</h3>
                    <p class="highlight">{{ monthly_fp_2 }} kr/månad</p>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</body>
</html>
