<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <title>Föräldrapenningkalkylator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <h1>Föräldrapenningkalkylator</h1>

    <form action="{{ url_for('resultat') }}" method="POST" id="calc-form">

        <label>Vårdnad:</label>
        <div class="button-group">
            <button type="button" onclick="selectCare('shared')" id="btn-shared">Gemensam</button>
            <button type="button" onclick="selectCare('single')" id="btn-single">Ensam</button>
        </div>

        <p class="info-text" id="care-info"></p>
        <input type="hidden" name="care_type" id="care_type" value="">

        <div id="parent1-input" style="display: none;">
            <label for="income1">
                Vad är din månadsinkomst före skatt? 
                <span title="Bruttolön före skatt, t.ex. 30000 kr.">(ℹ️)</span>
            </label>
            <input type="number" name="income1" id="income1" placeholder="30 000 kr">
        </div>

        <div id="parent2-input" style="display: none;">
            <label for="income2">
                Vad är den andra förälderns månadsinkomst?
                <span title="Bruttolön före skatt, t.ex. 32000 kr.">(ℹ️)</span>
            </label>
            <input type="number" name="income2" id="income2" placeholder="32 000 kr">
        </div>

        <button type="submit">Visa resultat</button>
    </form>

    <script>
        function selectCare(type) {
            const careTypeField = document.getElementById('care_type');
            const info = document.getElementById('care-info');
            const income1 = document.getElementById('parent1-input');
            const income2 = document.getElementById('parent2-input');

            careTypeField.value = type;

            if (type === 'shared') {
                info.innerHTML = 'När du och den andra föräldern har gemensam vårdnad får ni <strong>195 dagar</strong> var på sjukpenningnivå.';
                income1.style.display = 'block';
                income2.style.display = 'block';
            } else {
                info.innerHTML = 'Du som har ensam vårdnad får <strong>390 dagar</strong> på sjukpenningnivå.';
                income1.style.display = 'block';
                income2.style.display = 'none';
            }

            // Highlight selected
            document.getElementById('btn-shared').style.backgroundColor = type === 'shared' ? '#ccc' : '#e3e3e3';
            document.getElementById('btn-single').style.backgroundColor = type === 'single' ? '#ccc' : '#e3e3e3';
        }
    </script>
</body>
</html>
